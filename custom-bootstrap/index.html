<html>
<head>
	<link rel="stylesheet" type="text/css" href="./bootstrap/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="./bootstrap/css/bootstrap-theme.min.css">
	<script type="text/javascript" src="./jquery-2.0.0.min.js"></script>
	<script type="text/javascript" src="./bootstrap/js/bootstrap.min.js"></script>
	<title></title>
	<style type="text/css">
	.c:after{content:"";display:block; clear:both;}
.c {zoom:1;}
	.switcher .switcher-blue{
		background: blue;
	}
	.switcher{
		padding:0;position:relative;overflow:hidden;height:3em;min-width: 5em;border-radius:1.5em;
		background-color: #e6e6e6;
border-color: #e0e0e0;
		-webkit-box-shadow: inset 0 3px 5px rgba(0,0,0,0.125);
box-shadow: inset 0 3px 5px rgba(0,0,0,0.125);
	}
	.switcher[data-state=off] .switcher-btn{
		left:0;
	}
	.switcher[data-state=off] .switcher-blue{right:100%;}
	.switcher-btn{
		z-index:3;
		width: 3em;
		border-radius:50%;position:absolute;right:0;height:101%;padding:0
	}
	</style>
	<script type="text/javascript">
(function  ($) {
	var _ms='<select multiple class="form-control">';
	var ms_='</select>';
/*	var bs=function(){
		
	};*/
	var ms=function(){
	
		this.options=[];
		if(arguments.length>0){
			var args=Array.prototype.slice.call(arguments) ;
				var args1=args.shift();
				for (var i = 0; i < args1.length; i++) {
					this.options.push(args1[i]);
				};			
		}
	};
	ms.prototype={
		addItem:function(s){
			this.options.push(s);
		},
		appendTo:function(s){
			var options='';
			for (var i = 0; i < this.options.length; i++) {
				options+=' <option>'+this.options[i]+'</option>';
			};
			$(_ms+options+ms_).appendTo(s);
		}
	};
	$bui={
		multiSelect:ms
	};
/*	$.extend({
  BUI: bs.prototype
});
*/
})(jQuery);
	</script>
</head>
<body>
	<p>switcher</p>
 <div class="switcher" id="switcher" data-state="off">
 	<span class="switcher-blue" style="width:100%;height:100%;position:absolute;"></span>

<i class="btn btn-default switcher-btn"></i>

 </div>
</body>
<script type="text/javascript">
(function($){

	var obj = new $bui.multiSelect(['1','2']);
obj.addItem('A');
obj.addItem('b');
obj.addItem('c');
obj.appendTo('body');
var $switcher=$('.switcher');
$switcher.each(function(i,e){
	$this=$(this);

	$clip=$('.switcher-blue');
	$btn=$this.find('.switcher-btn');
	$b=$this.find('.switcher-blue');


	$(this).on('click',function(){
	console.log($(this).data('state'));
	
	
	if($(this).data('state')=='on'){
		$(this).data('state','off');
		// $(this).attr('data-state','off');
		$clip.animate({right:'100%'},500);
		$b.animate({right:'100%'},500);
		var x=$this.width()-$btn.width();
		
		$btn.css({left:'auto'}).animate({right:x},500);
	}else{
		$(this).data('state','on');
		// $(this).attr('data-state','on');
		$clip.animate({right:0},500);
		$b.animate({right:0},500);
		$btn.css({left:'auto'}).animate({right:0},500);
	}
	
	});

});
// $('.switcher-c').width($('#switcher').width()-$('#switcher').height()*2);

})(jQuery);
</script>
</html>
<!DOCTYPE html>
<html>
<head>
	<title>bootstrap-ui test!</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>

	<style type="text/css">
		::selection {
			background: #FF99CC;
			color: #FFF;
		}

		::-moz-selection {
			background: #FF99CC;
			color: #FFF;
		}

		::-webkit-selection {
			background: #FF99CC;
			color: #FFF;
		}

		.less-error-message {
			position: fixed;
			z-index: 1000;
		}
	</style>
	<link href="../lib/bootstrap/css/bootstrap.css" type="text/css" rel="stylesheet"/>
	<script src="../lib/jquery.js" type="text/javascript"></script>
	<script src="../lib/bootstrap/js/bootstrap.js" type="text/javascript"></script>
	<script src="../3rd/jquery.mousewheel.js" type="text/javascript"></script>

	<link id="fallback_chrome" href="../dist/bootstrap-ui.css" type="text/css" rel="stylesheet"/>
	<link id="fallback_chrome_css" href="../src/less/main.less" type="text/x-less" rel="stylesheet"/>
	<script type="text/javascript">
		$.ajax("../src/less/main.less").done(function (){
			$('#fallback_chrome').remove();
		}).always(function (){
					$('#fallback_chrome_css').remove();
				});
	</script>
	<script src="../3rd/less.js" type="text/javascript"></script>

	<script src="../src/js/_boot.js" type="text/javascript"></script>
	<script src="../src/js/_bui.js" type="text/javascript"></script>
	<script src="../src/js/_helper.js" type="text/javascript"></script>

	<script src="../src/js/Button.js" type="text/javascript"></script>
	<script src="../src/js/Check.js" type="text/javascript"></script>
	<script src="../src/js/CheckBox.js" type="text/javascript"></script>
	<script src="../src/js/Date.js" type="text/javascript"></script>
	<script src="../src/js/FormControl.js" type="text/javascript"></script>
	<script src="../src/js/Icon.js" type="text/javascript"></script>
	<script src="../src/js/IntInput.js" type="text/javascript"></script>
	<script src="../src/js/MultiInput.js" type="text/javascript"></script>
	<script src="../src/js/MultiSelect.js" type="text/javascript"></script>
	<script src="../src/js/OneOf.js" type="text/javascript"></script>
	<script src="../src/js/Pager.js" type="text/javascript"></script>
	<script src="../src/js/Progress.js" type="text/javascript"></script>
	<script src="../src/js/Select.js" type="text/javascript"></script>
	<script src="../src/js/Switch.js" type="text/javascript"></script>
	<script src="../src/js/PanelTab.js" type="text/javascript"></script>

	<script type="text/javascript">
		$(function (){
			var b;

			// MultiSelect
			/*b = $('#MultiSelect').find('.panel-body');
			 var $s = new $bui.MultiSelect({
			 name   : 'bui_select',
			 lines  : 3,
			 options: [
			 ['option1', '1'],
			 ['option2', '2']
			 ]
			 });
			 $s.appendTo(b);*/

			// CheckBox
			b = $('#CheckBox').find('.panel-body');
			(new $bui.CheckBox('我是攻').large().attr('name', 'test_c_1')).appendTo(b);
			(new $bui.CheckBox('我是受').small().attr('name', 'test_c_1')).appendTo(b);

			// Switch
			b = $('#Switch').find('.panel-body');
			b.append('默认on、change事件：');
			(new $bui.Switch(true)).attr('name', 'test_sw_1').large().appendTo(b).on('change', function (e, v){
				dyn.attr('disabled', v);
				auto.val(!auto.val());
			});
			b.append('启用和禁用：');
			var dyn = (new $bui.Switch()).attr({'name': 'test_sw_1', 'disabled': 'disabled'}).appendTo(b);
			b.append('外部改变：');
			var auto = (new $bui.Switch()).small().attr('name', 'test_sw_1').appendTo(b);

			// Button
			b = $('#Button').find('.panel-body');
			b.append(new $bui.Button('提 交', 'submit', 'success'));
			b.append(new $bui.Button('确 定', 'span', 'info'));
			b.append(new $bui.Button('取 消', 'input', 'warning'));
			b.append(new $bui.Button('返 回', 'button', 'primary'));
			b.append('<hr>');

			// FormControl
			var bar = new $bui.FormControl().appendTo(b);

			bar.centerWidget($('<input/>').attr('type', 'text'));

			bar.prepend(new $bui.Button('提交', 'button', 'primary'));
			bar.prepend($('<span/>').text('label'));
			bar.prepend(new $bui.Icon('ok'));
			bar.prepend(new $bui.Button('提交', 'button', 'primary'));

			bar.append(new $bui.Button('A', 'submit', 'success'));
			bar.append(new $bui.Icon('ok'));
			bar.append(new $bui.Button('B', 'span', 'info'));
			bar.append($('<input/>').attr('type', 'text'));
			bar.append(new $bui.Button('C', 'input', 'warning'));
			bar.append(new $bui.Button('D', 'button', 'primary'));

			// IntInput
			b = $('#IntInput').find('.panel-body');
			b.append('必须大于等于100：');
			(new $bui.IntInput('[100,)')).large().val(123).attr('name', 'test_ii_1').appendTo(b);
			b.append('必须小于等于50：');
			(new $bui.IntInput('[,50]')).val(100).attr('name', 'test_ii_2').appendTo(b);
			b.append('介于25和75之间：');
			(new $bui.IntInput('(25,75)')).small().val(0).attr('name', 'test_ii_3').appendTo(b);

			var $show = $('<span/>');
			b.append('改变事件：').append($show).append($show);
			(new $bui.IntInput('[0,)')).val(0).attr('name', 'test_ii_4')
					.on('change',function (e, value){
						$show.html(value)
					}).appendTo(b);

			// OneOf
			b = $('#OneOf').find('.panel-body');
			new $bui.OneOf().appendTo(b)
					.addItem((new $bui.IntInput('')).val(9).attr('name', 'test_oo_1'))
					.addItem((new $bui.IntInput('')).val(233).attr('name', 'test_oo_2'))
					.addItem(new $bui.Switch().attr('name', 'test_oo_3'));

			//Icon
			b = $('#Icon').find('.panel-body');
			var ico = $bui.Icon().css({'font-size': '42px'}).addClass('pull-right').appendTo(b);
			var ico2 = $bui.Icon().css({'font-size': '42px'});
			(new $bui.Button(ico2, 'span', 'warning')).prependTo(b);
			var ico_show = $('<span/>').appendTo('#Icon .panel-heading');
			(new $bui.IntInput('[0,' + $bui.Icon.list.length + ')')).val(181)
					.on('change',function (e, value){
						ico.change($bui.Icon.list[value]);
						ico2.change($bui.Icon.list[value]);
						ico_show.text('  -  (' + $bui.Icon.list[value] + ')');
					}).trigger('change', 181).appendTo('#Icon .panel-footer');

			// tab panel test
			var panel = $('#TabPanel');
			panel.find('ul>li').click(function (){
				var cls = $(this).data('class');
				panel.removeClass('panel-' + panel._last).addClass('panel-' + cls);
				panel._last = cls;
			});
			panel._last = 'default';

			// Select
			b = $('#Select').find('.panel-body');
			var test_select = b.find('div');
			($bui.Select.call(test_select)).attr({'name': 'test_s_1'}).val('1');
			var select = (new $bui.Select()).appendTo(b).attr({'name': 'test_s_2'});
			for(var i = 65; i < 91; i++){
				var a=String.fromCharCode(i);
				select.addOption('选项'+a, i);
			}
		});
		function serilize(ths){
			var form = $(ths).parentsUntil('form').parent();
			var container = $(ths).next();
			if(!container.length){
				container = $('<span/>').insertAfter(ths);
			}
			var s = form.serialize();
			container.text(s);
		}
	</script>
</head>
<body>
<div class="container">

	<form id="Button" class="panel panel-primary">
		<div class="panel-heading">按钮、表单元素</div>
		<div class="panel-body">

		</div>
	</form>

	<form id="IntInput" class="panel panel-primary">
		<div class="panel-heading">整数输入</div>
		<div class="panel-body">

		</div>
		<div class="panel-footer">
			<a class="btn btn-primary" onclick="serilize(this);">序列化</a>
		</div>
	</form>

	<form id="OneOf" class="panel panel-primary">
		<div class="panel-heading">选择部分提交</div>
		<div class="panel-body">

		</div>
		<div class="panel-footer">
			<a class="btn btn-primary" onclick="serilize(this);">序列化</a>
		</div>
	</form>

	<form id="Icon" class="panel panel-primary">
		<div class="panel-heading">图标</div>
		<div class="panel-body">

		</div>
		<div class="panel-footer"></div>
	</form>

	<form id="MultiSelect" class="panel panel-primary">
		<div class="panel-heading">多选</div>
		<div class="panel-body">

		</div>
		<div class="panel-footer">
			<a class="btn btn-primary" onclick="serilize(this);">序列化</a>
		</div>
	</form>

	<form id="CheckBox" class="panel panel-primary">
		<div class="panel-heading">复选</div>
		<div class="panel-body">

		</div>
		<div class="panel-footer">
			<a class="btn btn-primary" onclick="serilize(this);">序列化</a>
		</div>
	</form>

	<form id="Switch" class="panel panel-primary">
		<div class="panel-heading">开关</div>
		<div class="panel-body">

		</div>
		<div class="panel-footer">
			<a class="btn btn-primary" onclick="serilize(this);">序列化</a>
		</div>
	</form>

	<form id="Select" class="panel panel-primary">
		<div class="panel-heading">美化的select</div>
		<div class="panel-body bui-select-lg">
			<div>
				<option value="1">1</option>
				<option value="2">2</option>
			</div>
		</div>
		<div class="panel-footer">
			<a class="btn btn-primary" onclick="serilize(this);">序列化</a>
		</div>
	</form>

	<form id="TabPanel" class="panel panel-default panel-tab">
		<ul class="panel-heading">
			<li class="active" data-class="default" href="#TabPanelDefault" data-toggle="tab">
				default
			</li>
			<li data-class="primary" href="#TabPanelPrimary" data-toggle="tab">
				primary
			</li>
			<li data-class="success" href="#TabPanelSuccess" data-toggle="tab">
				success
			</li>
			<li data-class="warning" href="#TabPanelWarning" data-toggle="tab">
				warning
			</li>
			<li data-class="danger" href="#TabPanelDanger" data-toggle="tab">
				danger
			</li>
			<li data-class="info" href="#TabPanelInfo" data-toggle="tab">
				info
			</li>
		</ul>
		<div id="TabPanelDefault" class="panel-body active">
			TabPanelDefault 内容
		</div>
		<div id="TabPanelPrimary" class="panel-body">
			TabPanelPrimary 内容
		</div>
		<div id="TabPanelSuccess" class="panel-body">
			TabPanelSuccess 内容
		</div>
		<div id="TabPanelWarning" class="panel-body">
			TabPanelWarning 内容
		</div>
		<div id="TabPanelDanger" class="panel-body">
			TabPanelDanger 内容
		</div>
		<div id="TabPanelInfo" class="panel-body">
			TabPanelInfo 内容
		</div>
		<div class="panel-footer">
			<a class="btn btn-primary" onclick="serilize(this);">序列化</a>
		</div>
	</form>
</div>
</body>
</html>

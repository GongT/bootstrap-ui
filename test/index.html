<!DOCTYPE html>
<html>
<head>
	<title>bootstrap-ui test!</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>

	<link href="../lib/bootstrap/css/bootstrap.css" type="text/css" rel="stylesheet"/>
	<link href="../src/main.css" type="text/css" rel="stylesheet"/>
	<script src="../lib/jquery.js" type="text/javascript"></script>
	<script src="../lib/bootstrap/js/bootstrap.js" type="text/javascript"></script>
	<script src="../3rd/jquery.mousewheel.js" type="text/javascript"></script>

	<script type="text/javascript">
		var module = {
			exports: window,
			name   : '$bui'
		};
		var global = window;
		/* //$.bui.xxx
		 var module = {
		 exports: jQuery,
		 name: 'bui'
		 };
		 var global = window;*/
	</script>

	<script src="../src/bui.js" type="text/javascript"></script>
	<script src="../src/helper.js" type="text/javascript"></script>

	<script src="../src/Button.js" type="text/javascript"></script>
	<script src="../src/Check.js" type="text/javascript"></script>
	<script src="../src/Checkbox.js" type="text/javascript"></script>
	<script src="../src/Date.js" type="text/javascript"></script>
	<script src="../src/FormControl.js" type="text/javascript"></script>
	<script src="../src/Icon.js" type="text/javascript"></script>
	<script src="../src/IntInput.js" type="text/javascript"></script>
	<script src="../src/MultiInput.js" type="text/javascript"></script>
	<script src="../src/MultiSelect.js" type="text/javascript"></script>
	<script src="../src/OneOf.js" type="text/javascript"></script>
	<script src="../src/Pager.js" type="text/javascript"></script>
	<script src="../src/Progress.js" type="text/javascript"></script>
	<script src="../src/Select.js" type="text/javascript"></script>
	<script src="../src/Switch.js" type="text/javascript"></script>
	<script src="../src/PanelTab.js" type="text/javascript"></script>

	<script type="text/javascript">
		$(function (){
			var b;

			// MultiSelect
			/*b = $('#MultiSelect').find('.panel-body');
			 var $s = new $bui.MultiSelect({
			 name   : 'bui_select',
			 lines  : 3,
			 options: [
			 ['option1', '1'],
			 ['option2', '2']
			 ]
			 });
			 $s.appendTo(b);*/

			// Checkbox
			b = $('#Checkbox').find('.panel-body');
			(new $bui.Checkbox('我是攻').attr('name','test_c_1')).appendTo(b);
			(new $bui.Checkbox('我是受').attr('name','test_c_1')).appendTo(b);

			// Switch
			b = $('#Switch').find('.panel-body');
			(new $bui.Switch(true)).attr('name', 'test_sw_1').appendTo(b);

			//PanelTab
			/*b= $('#PanelTab').find('.panel-body');
			 new $bui.PanelTab().appendTo(b);*/

			// Button
			b = $('#Button').find('.panel-body');
			b.append(new $bui.Button('提 交', 'submit', 'success'));
			b.append(new $bui.Button('确 定', 'span', 'info'));
			b.append(new $bui.Button('取 消', 'input', 'warning'));
			b.append(new $bui.Button('返 回', 'button', 'primary'));
			b.append('<hr>');

			// FormControl
			var bar = new $bui.FormControl().appendTo(b);

			bar.centerWidget($('<input/>').attr('type', 'text'));

			bar.prepend(new $bui.Button('提交', 'button', 'primary'));
			bar.prepend($('<span/>').text('label'));
			bar.prepend(new $bui.Icon('ok'));
			bar.prepend(new $bui.Button('提交', 'button', 'primary'));

			bar.append(new $bui.Button('A', 'submit', 'success'));
			bar.append(new $bui.Icon('ok'));
			bar.append(new $bui.Button('B', 'span', 'info'));
			bar.append($('<input/>').attr('type', 'text'));
			bar.append(new $bui.Button('C', 'input', 'warning'));
			bar.append(new $bui.Button('D', 'button', 'primary'));

			// IntInput
			b = $('#IntInput').find('.panel-body');
			b.append('必须大于等于100：');
			(new $bui.IntInput('[100,)')).val(123).attr('name', 'test_ii_1').appendTo(b);
			b.append('必须小于等于50：');
			(new $bui.IntInput('[,50]')).val(100).attr('name', 'test_ii_2').appendTo(b);
			b.append('介于25和75之间：');
			(new $bui.IntInput('(25,75)')).val(0).attr('name', 'test_ii_3').appendTo(b);

			var $show = $('<span/>');
			b.append('改变事件：').append($show).append($show);
			(new $bui.IntInput('[0,)')).val(0).attr('name', 'test_ii_4')
					.on('change',function (e, value){
						$show.html(value)
					}).appendTo(b);

			// OneOf
			b = $('#OneOf').find('.panel-body');
			new $bui.OneOf().appendTo(b)
					.addItem((new $bui.IntInput('')).val(9).attr('name', 'test_oo_1'))
					.addItem((new $bui.IntInput('')).val(233).attr('name', 'test_oo_2'))
					.addItem(new $bui.Switch().attr('name', 'test_oo_3'));

			//Icon
			b = $('#Icon').find('.panel-body');
			var ico = $bui.Icon().css({'font-size': '42px'}).addClass('pull-right').appendTo(b);
			var ico2 = $bui.Icon().css({'font-size': '42px'});
			(new $bui.Button(ico2, 'span', 'warning')).prependTo(b);
			var ico_show = $('<span/>').appendTo('#Icon .panel-heading');
			(new $bui.IntInput('[0,' + $bui.Icon.list.length + ')')).val(181)
					.on('change',function (e, value){
						ico.change($bui.Icon.list[value]);
						ico2.change($bui.Icon.list[value]);
						ico_show.text('  -  (' + $bui.Icon.list[value] + ')');
					}).trigger('change', 181).appendTo('#Icon .panel-footer');

		});
		function serilize(ths){
			var form = $(ths).parentsUntil('form').parent();
			var container = $(ths).next();
			if(!container.length){
				container = $('<span/>').insertAfter(ths);
			}
			var s = form.serialize();
			container.text(s);
		}
	</script>
</head>
<body>
<div class="container">

	<form id="Button" class="panel panel-primary">
		<div class="panel-heading">按钮、表单元素</div>
		<div class="panel-body">

		</div>
	</form>

	<form id="IntInput" class="panel panel-primary">
		<div class="panel-heading">整数输入</div>
		<div class="panel-body">

		</div>
		<div class="panel-footer">
			<a class="btn btn-primary" onclick="serilize(this);">序列化</a>
		</div>
	</form>

	<form id="OneOf" class="panel panel-primary">
		<div class="panel-heading">选择部分提交</div>
		<div class="panel-body">

		</div>
		<div class="panel-footer">
			<a class="btn btn-primary" onclick="serilize(this);">序列化</a>
		</div>
	</form>

	<form id="Icon" class="panel panel-primary">
		<div class="panel-heading">图标</div>
		<div class="panel-body">

		</div>
		<div class="panel-footer"></div>
	</form>

	<form id="MultiSelect" class="panel panel-primary">
		<div class="panel-heading">多选</div>
		<div class="panel-body">

		</div>
		<div class="panel-footer">
			<a class="btn btn-primary" onclick="serilize(this);">序列化</a>
		</div>
	</form>

	<form id="Checkbox" class="panel panel-primary">
		<div class="panel-heading">复选</div>
		<div class="panel-body">

		</div>
		<div class="panel-footer">
			<a class="btn btn-primary" onclick="serilize(this);">序列化</a>
		</div>
	</form>

	<form id="Switch" class="panel panel-primary">
		<div class="panel-heading">开关</div>
		<div class="panel-body">

		</div>
		<div class="panel-footer">
			<a class="btn btn-primary" onclick="serilize(this);">序列化</a>
		</div>
	</form>
</div>
</body>
</html>

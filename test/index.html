<!DOCTYPE html>
<html>
<head>
	<title>bootstrap-ui test!</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<link href="../lib/bootstrap/css/bootstrap.css" type="text/css" rel="stylesheet"/>
	<link href="../src/main.css" type="text/css" rel="stylesheet"/>
	<script src="../lib/jquery.js" type="text/javascript"></script>
	<script src="../lib/bootstrap/js/bootstrap.js" type="text/javascript"></script>

	<script type="text/javascript">
		var module = {
			exports: window,
			name   : '$bui'
		};
		var global = window;
		/* //$.bui.xxx
		 var module = {
		 exports: jQuery,
		 name: 'bui'
		 };
		 var global = window;*/
	</script>
	<script src="../src/bui.js" type="text/javascript"></script>
	<script src="../src/helper.js" type="text/javascript"></script>
	<script src="../src/FormControl.js" type="text/javascript"></script>
	<script src="../src/IntInput.js" type="text/javascript"></script>
	<script src="../src/OneOf.js" type="text/javascript"></script>
	<script src="../src/icon.js" type="text/javascript"></script>

	<script type="text/javascript">
		$(function (){
			var b;
			
			// IntInput
			b = $('#IntInput').find('.panel-body');
			b.append('必须大于等于100：');
			(new $bui.IntInput('[100,)')).val(123).attr('name', 'test_ii_1').appendTo(b);
			b.append('必须小于等于50：');
			(new $bui.IntInput('[,50]')).val(100).attr('name', 'test_ii_2').appendTo(b);
			b.append('介于25和75之间：');
			(new $bui.IntInput('(25,75)')).val(0).attr('name', 'test_ii_3').appendTo(b);

			var $show = $('<span/>');
			b.append('改变事件：').append($show).append($show);
			(new $bui.IntInput('[0,)')).val(0).attr('name', 'test_ii_4')
					.on('change',function (e, value){
						$show.html(value)
					}).appendTo(b);

			// OneOf
			b = $('#OneOf').find('.panel-body');
			b.append('选择其中一个：');
			new $bui.OneOf()
					.addItem((new $bui.IntInput('')).val(9).attr('name', 'test_oo_1'))
					.addItem((new $bui.IntInput('')).val(233).attr('name', 'test_oo_2'))
					.appendTo(b);

			//Icon
			b = $('#Icon').find('.panel-body');
			var ico = $bui.Icon('thumbs-up').addClass('').css({'font-size':'42px'});
			b.append($('<div class="alert alert-info text-center"></div>').append(ico));
			b.append('查看其他：');
			(new $bui.IntInput('[0,'+$bui.Icon.list.length+')')).val(181)
					.on('change',function (e, value){
						ico.change($bui.Icon.list[value]);
					}).appendTo(b);
			
			
		});
		function serilize(ths){
			var form = $(ths).parentsUntil('form').parent();
			var container = $(ths).next();
			if(!container.length){
				container = $('<span/>').insertAfter(ths);
			}
			var s = form.serialize();
			container.text(s);
		}
	</script>
</head>
<body>
<div class="container">
	<form id="IntInput" class="panel panel-primary">
		<div class="panel-heading">整数输入</div>
		<div class="panel-body">

		</div>
		<div class="panel-footer">
			<a class="btn btn-primary" onclick="serilize(this);">序列化</a>
		</div>
	</form>

	<form id="OneOf" class="panel panel-primary">
		<div class="panel-heading">选择部分提交</div>
		<div class="panel-body">

		</div>
		<div class="panel-footer">
			<a class="btn btn-primary" onclick="serilize(this);">序列化</a>
		</div>
	</form>

	<form id="Icon" class="panel panel-primary">
		<div class="panel-heading">图标</div>
		<div class="panel-body">

		</div>
		<div class="panel-footer">
		</div>
	</form>
</div>
</body>
</html>
